{"version":3,"file":"main.3a4b3d9be198f5b0b51b.hot-update.js","sources":["webpack:///./src/widgets/WalletModal/ConnectModal.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport styled, { useTheme } from \"styled-components\";\nimport getExternalLinkProps from \"../../util/getExternalLinkProps\";\nimport Grid from \"../../components/Box/Grid\";\nimport Box from \"../../components/Box/Box\";\nimport getThemeValue from \"../../util/getThemeValue\";\nimport Text from \"../../components/Text/Text\";\nimport Heading from \"../../components/Heading/Heading\";\nimport { Button } from \"../../components/Button\";\nimport { ModalBody, ModalCloseButton, ModalContainer, ModalHeader, ModalTitle } from \"../Modal\";\nimport WalletCard, { MoreWalletCard } from \"./WalletCard\";\nimport config, { walletLocalStorageKey } from \"./config\";\nimport { Config, Login } from \"./types\";\n\ninterface Props {\n  login: Login;\n  onDismiss?: () => void;\n  displayCount?: number;\n}\n\nconst WalletWrapper = styled(Box)`\n  border-bottom: 1px solid ${({ theme }) => theme.colors.cardBorder};\n`;\n\n/**\n * Checks local storage if we have saved the last wallet the user connected with\n * If we find something we put it at the top of the list\n *\n * @returns sorted config\n */\nconst getPreferredConfig = (walletConfig: Config[]) => {\n  const preferredWalletName = localStorage.getItem(walletLocalStorageKey);\n  const sortedConfig = walletConfig.sort((a: Config, b: Config) => a.priority - b.priority);\n\n  if (!preferredWalletName) {\n    return sortedConfig;\n  }\n\n  const preferredWallet = sortedConfig.find((sortedWalletConfig) => sortedWalletConfig.title === preferredWalletName);\n\n  if (!preferredWallet) {\n    return sortedConfig;\n  }\n\n  return [\n    preferredWallet,\n    ...sortedConfig.filter((sortedWalletConfig) => sortedWalletConfig.title !== preferredWalletName),\n  ];\n};\n\nconst ConnectModal: React.FC<Props> = ({ login, onDismiss = () => null, displayCount = 3 }) => {\n  const [showMore, setShowMore] = useState(false);\n  const theme = useTheme();\n  const sortedConfig = getPreferredConfig(config);\n  const displayListConfig = showMore ? sortedConfig : sortedConfig.slice(0, displayCount);\n\n  return (\n    <ModalContainer minWidth=\"320px\">\n      <ModalHeader background={getThemeValue(\"colors.gradients.bubblegum\")(theme)}>\n        <ModalTitle>\n        <Text fontSize=\"16px\">Connect Wallet</Text> \n        </ModalTitle>\n        <ModalCloseButton onDismiss={onDismiss} />\n      </ModalHeader>\n      <ModalBody width={[\"320px\", null, \"340px\"]}>\n        <WalletWrapper py=\"24px\" maxHeight=\"453px\" overflowY=\"auto\">\n          <Grid gridTemplateColumns=\"1fr 1fr\">\n            {displayListConfig.map((wallet) => (\n              <Box key={wallet.title}>\n                <WalletCard walletConfig={wallet} login={login} onDismiss={onDismiss} />\n              </Box>\n            ))}\n            {!showMore && <MoreWalletCard onClick={() => setShowMore(true)} />}\n          </Grid>\n        </WalletWrapper>\n        <Box p=\"24px\">\n          <Text textAlign=\"center\" color=\"textSubtle\" as=\"p\" mb=\"16px\">\n            Haven&#39;t got a crypto wallet yet?\n          </Text>\n          <Button\n            as=\"a\"\n            href=\"https://docs.pancakeswap.finance/get-started/connection-guide\"\n            variant=\"subtle\"\n            width=\"100%\"\n            {...getExternalLinkProps()}\n          >\n            Learn How to Connect\n          </Button>\n        </Box>\n      </ModalBody>\n    </ModalContainer>\n  );\n};\n\nexport default ConnectModal;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AASA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AADA;AAGA;AAAA;AAJA;AAMA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AADA;AADA;AAKA;AAAA;AAAA;AAAA;AANA;AADA;AAUA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAJA;AAXA;AAPA;AAmCA;AACA;AA3CA;AA4CA;AACA;;;;;;;;;;;;;;;;A","sourceRoot":""}